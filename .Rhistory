colnames(browser)
class(browser$Browser)
bbb<-browser
head(bbb)
class(bb$Browser)
class(bbb$Browser)
bbb$Browser<-as.character(bbb$Browser)
class(bbb$Browser)
plot1 = mosaicplot(bbb, main = "Browser Usage", dir=c("h", "v"), las = 1, color = TRUE)
class(bbb)
?mosaicplot
dimnames(browser)
plot1 = mosaicplot(browser, main = "Browser Usage", dir=c("h", "v"), las = 1, color = TRUE)
q()
OneNoteTimeSpentData <- read.delim("~/R/OneNoteTimeSpentData.txt")
View(OneNoteTimeSpentData)
plot
plot(OneNoteTimeSpentData)
xrange <- range(OneNoteTimeSpentData$MachineGuid)
yrange <- range(OneNoteTimeSpentData$TotalActiveTimeInMins)
plot(yrange)
plot(OneNoteTimeSpentData$TotalActiveTimeInMins)
?density
?hist
hist(OneNoteTimeSpentData$TotalActiveTimeInMins)
hist(OneNoteTimeSpentData$Log10ActiveTime)
?geom_histogram
?ggplot
library(ggplot)
library(ggplot2)
install.packages("ggplot2")
?ggplot
??ggplot
carrots <- data.frame(length = rnorm(100000, 6, 2))
carrots
cls
carrots <- data.frame(length = rnorm(10, 6, 2))
carrots
carrots <- data.frame(length = rnorm(10, 6, 1))
carrots
carrots <- data.frame(length = rnorm(10, 1, 1))
carrots
??ggplot
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$ProcessName, OneNoteTimeSpentData$TotalActiveTimeInMins))
library("ggplot2", lib.loc="~/R/win-library/3.1")
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$ProcessName, OneNoteTimeSpentData$TotalActiveTimeInMins))
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$ProcessName, OneNoteTimeSpentData$TotalActiveTimeInMins)) + geo_histogram(position = "dodge", bindwidth=2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$ProcessName, OneNoteTimeSpentData$TotalActiveTimeInMins)) + geom_histogram(position = "dodge", bindwidth=2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$ProcessName, OneNoteTimeSpentData$TotalActiveTimeInMins)) + geom_histogram(position = "stack", bindwidth=2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "stack", bindwidth=2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins)) + geom_histogram(position = "stack", bindwidth=2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins)) + geom_histogram(position = "stack", bindwidth=30)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins)) + geom_histogram(position = "stack", bindwidth=1)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins)) + geom_histogram(position = "stack", bindwidth=2)
a <- c(15.625,12.5,14,15.75,15.375,18.813)
cs <- c(15.875,    7.875,    6.625, 6,  6.5,    9,  7.375,  7.625,  6.875,  7.25,   7.5,    6.75,   6.75,   7.5,    6.75,   6.75,   10.25,  8.625,  8.875,  10.125, 11.75,  11, 16.5,   15.75,  14, 13, 12.5,   13.875, 13.5,   15.25,  17, 15.125, 15.75,  15.25,  13.625, 12.625, 11.375, 12.625, 11.875, 11.375, 16, 18.25,  20.25,  18.125, 22.5,   24.75,  27.5,   28.375, 31.125, 37.75,  32.75,  30.375, 31.875, 33.25,  34.625, 28.5,   28.875, 23.5,   24.625, 22.5,   18, 20.25,  24.875, 26.125, 30.25,  32.375, 36.5,   32.75,  35.25,  28.5,   29, 32.875, 34.5,   34.625, 31.875, 32.375, 29.5,   27.5,   26.875, 28.375, 30.25,  24.75,  26.75,  30.75,  29.625, 35.375, 31.875, 34.875, 40, 44.375, 32.25,  34.25,  35, 43.875, 46.125, 46.625, 29, 22.875, 24.25,  20.125, 25.125, 25.5,   25.875, 24.5,   24.25,  24.5,   24.125, 25, 23, 25, 30.25,  32, 37.5,   37.5,   32, 36.625, 40.625, 40.5,   47, 42.75)
e<- c(10.5,    13.188,  11.125, 10.938, 11.5,   17.625, 24, 18, 15, 17.625, 19.625, 30.5,   32.125)
bucket<-list(a=a,cs=cs,e=e)
bucket
melt(bucket)
??melt
library("reshape2", lib.loc="~/R/win-library/3.1")
detach("package:ggplot2", unload=TRUE)
library("ggplot2", lib.loc="~/R/win-library/3.1")
melt(bucket)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "stack", bindwidth=2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "stack", bindwidth=2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "stack", binwidth=2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "stack", binwidth=200)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "stack", binwidth=2000)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "stack", binwidth=2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "stack", binwidth=2000)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "dodge", binwidth=2000)
?geom_histogram
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity")
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 2000)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 200)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 200)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 200)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins)) + geom_bar() + facet_wrap(~ OneNoteTimeSpentData$TotalActiveTimeInMins)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins)) + geom_bar() + facet_wrap(~ OneNoteTimeSpentData$ProcessName)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$ProcessName)) + geom_bar() + facet_wrap(~ OneNoteTimeSpentData$TotalActiveTimeInMins)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_bar()
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 200)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 100)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 2000)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 20)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 5000)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 5)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 50)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 50)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 5)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 1)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 0.5)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "dodge", binwidth=0.5)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "stack", binwidth=0.5)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "stack", binwidth=0.5)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "stack", binwidth=500)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(position = "stack", binwidth=0.5)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 0.5)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, fill = OneNoteTimeSpentData$ProcessName)) + geom_histogram(alpha = 0.5, aes(y = ..density..), position = "identity", binwidth = 0.5)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName))
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(group = OneNoteTimeSpentData$ProcessName))
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(group = OneNoteTimeSpentData$ProcessName), binwidth= 2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(group = OneNoteTimeSpentData$ProcessName), binwidth= 1)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(group = OneNoteTimeSpentData$ProcessName), binwidth= 0.5)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(group = OneNoteTimeSpentData$ProcessName), binwidth= 0.05)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(group = OneNoteTimeSpentData$ProcessName), binwidth= 0.5)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(group = OneNoteTimeSpentData$ProcessName), binwidth= 2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 0.5)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 0.2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 0.1)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 0.2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 200)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 200)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 2000)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 200)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(group = OneNoteTimeSpentData$ProcessName), binwidth= 200)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(group = OneNoteTimeSpentData$ProcessName), binwidth= 2000)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(group = OneNoteTimeSpentData$ProcessName))
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime)) + geom_bar() + facet_wrap(~ OneNoteTimeSpentData$ProcessName)
??facet_wrap
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(group = OneNoteTimeSpentData$ProcessName))
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$TotalActiveTimeInMins, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(group = OneNoteTimeSpentData$ProcessName), binwidth= 2000)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 2)
ggplot(OneNoteTimeSpentData, aes(OneNoteTimeSpentData$Log10ActiveTime, colour= OneNoteTimeSpentData$ProcessName)) + geom_freqpoly(aes(y = ..density.., group = OneNoteTimeSpentData$ProcessName), binwidth= 0.1)
cls
getwd()
?download.file
file = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv "
download.file(file)
file = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv "
download.file(file, "2006MicroData.csv")
ls
ls()
ls()["2006MicroData.csv"]
cls
csv
read.csv("2006MicroData.csv", header = TRUE)
data = read.csv("2006MicroData.csv", header = TRUE)
View(data)
summary(data)
colnames(data)
str(data)
nrows(data[,] >= 1000000)
nrow(data[,] >= 1000000)
nrow(data >= 1000000)
data[, 1]
nrow(data)
str(data)
nrow(data)
length(nrow(data))
str(data)
str(data$VAL)
dataVal = subset(data, !is.na(VAL))
View(dataVal)
nrow(subset(dataVal, VAL == 24))
str(data$FES)
file2 = "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx"
download.file(file2, "NaturalGas,xlsx")
download.file(file2, "NaturalGas.xlsx")
xls = read.csv("NaturalGas.xlsx", header = TRUE)
View(xls)
xls = read.csv("NaturalGas.xlsx")
?read.csv
library(xlsx)
install.packages("xlsx")
library(xlsx)
xls = read.xlsx("NaturalGas.xlsx", sheetIndex=1, header=TRUE)
library(xlsx)
install.packages("rjava")
install.packages("rJava")
library(xlsx)
library(rJava)
library("xlsx")
library("rJava")
install.packages("xlsx")
install.packages("rJava")
library("xlsx")
library("rJava", lib.loc="~/R/win-library/3.1")
install.packages("rJava")
install.packages("xlsx")
library("xlsx")
NEI <- readRDS("summarySCC_PM25.rds")
head(NEI, 4)
str(NEI)
?aggregate
total <- aggregate(NEI$Emissions, by = list(Year = (NEI$year >= 1999 && NEI$year <= 2008) , Pollutant = (NEI$Pollutant == "PM25-PRI"), sum)
total <- aggregate(NEI$Emissions, by = list(Year = (NEI$year >= 1999 && NEI$year <= 2008) , Pollutant = (NEI$Pollutant == "PM25-PRI")), sum)
total <- aggregate(NEI$Emissions, by = list(Year = (NEI$year >= 1999 && NEI$year <= 2008) , Pollutant = (NEI$Pollutant == "PM25-PRI")), sum)
total <- aggregate(NEI$Emissions, by = list(Year = NEI$year >= 1999 && NEI$year <= 2008 , Pollutant = NEI$Pollutant == "PM25-PRI"), sum)
?sapply
NEI(which(NEI$year >= 1999 && NEI$year <= 2008))$Emissions
NEI <- readRDS("summarySCC_PM25.rds")
NEI(which(NEI$year >= 1999 && NEI$year <= 2008))$Emissions
NEI(which(NEI$year >= 1999 && NEI$year <= 2008))$Emissions
NEI[which(NEI$year >= 1999 && NEI$year <= 2008)]$Emissions
which(NEI$year >= 1999 && NEI$year <= 2008)
NEI[which(NEI$year >= 1999 & NEI$year <= 2008)]$Emissions
which(NEI$year >= 1999 & NEI$year <= 2008)
NEI[which(NEI$year >= 1999 & NEI$year <= 2008)]$Emissions
str(NEI)
NEI[which(NEI$year >= 1999 & NEI$year <= 2008)]$Emissions
which(NEI$year >= 1999 & NEI$year <= 2008)
NEI[which(NEI$year >= 1999 & NEI$year <= 2008),]$Emissions
total <- aggregate(NEI[which(NEI$year >= 1999 & NEI$year <= 2008 & NEI$Pollutant == "PM25-PRI"),]$Emissions, by = list(Year = NEI$year , Pollutant = NEI$Pollutant ), sum)
summary(total)
str(total)
nrow(total)
total
names(total)[3] <- "Emission"
total
plot(total$year, as.numeric(total$Emission),  xlab = "year", ylab = "Total Emissions (Tons)", main = "Total PM2.5 emission from all sources")
total$Emission <- total$Emission/1000 #converting in Kilo tons
plot(total$year, as.numeric(total$Emission),  xlab = "year", ylab = "Total Emissions (Tons)", main = "Total PM2.5 emission from all sources")
total
plot(total$Year, as.numeric(total$Emission),  xlab = "year", ylab = "Total Emissions (Tons)", main = "Total PM2.5 emission from all sources")
abline(lsfit(1:4, plotData$Emissions), col="red")
abline(lsfit(1:4, total$Emission), col="red")
plot(total$Year, as.numeric(total$Emission),  xlab = "year", ylab = "Total Emissions (Tons)", main = "Total PM2.5 emission from all sources")
abline(lsfit(1:4, total$Emission), col="red")
plot(total$Year, as.numeric(total$Emission),  xlab = "year", ylab = "Total Emissions (Tons)", main = "Total PM2.5 emission from all sources", type = l)
plot(total$Year, as.numeric(total$Emission),  xlab = "year", ylab = "Total Emissions (Tons)", main = "Total PM2.5 emission from all sources", type = "line")
plot(total$Year, as.numeric(total$Emission),  xlab = "year", ylab = "Total Emissions (Tons)", main = "Total PM2.5 emission from all sources", type = "l")
?plot
plot(total$Year, as.numeric(total$Emission),  xlab = "year", ylab = "Total Emissions (Tons)", main = "Total PM2.5 emission from all sources", type = "l", col = "dark red")
plot(total$Year, as.numeric(total$Emission),  xlab = "year", ylab = "Total Emissions (Tons)", main = "Total PM2.5 emission from all sources", type = "l", col = "red")
abline(lsfit(1:4, total$Emission), col="red")
#open the png device
png(file = "plot1.png", width=480, height = 480)
##plot it
plot(total$Year, as.numeric(total$Emission),  xlab = "year", ylab = "Total Emissions (Tons)", main = "Total PM2.5 emission from all sources", type = "l", col = "red")
##close png device
dev.off()
NEI <- readRDS("summarySCC_PM25.rds")
str(NEI)
total <- aggregate(NEI[which(NEI$year >= 1999 & NEI$year <= 2008 & NEI$Pollutant == "PM25-PRI" & fips == "24510"),]$Emissions, by = list(Year = NEI$year , Pollutant = NEI$Pollutant ), sum)
total <- aggregate(NEI[which(NEI$year >= 1999 & NEI$year <= 2008 & NEI$Pollutant == "PM25-PRI" & NEI$fips == "24510"),]$Emissions, by = list(Year = NEI$year , Pollutant = NEI$Pollutant ), sum)
total <- aggregate(NEI[which(NEI$year >= 1999 & NEI$year <= 2008 & NEI$Pollutant == "PM25-PRI" & NEI$fips == "24510"),]$Emissions, by = list(Year = NEI$year , Pollutant = NEI$Pollutant, City = NEI$fips ), sum)
total <- aggregate(NEI[which(NEI$year >= 1999 & NEI$year <= 2008 & NEI$Pollutant == "PM25-PRI"),]$Emissions, by = list(Year = NEI$year , Pollutant = NEI$Pollutant), sum)
total <- aggregate(NEI[which(NEI$year >= 1999 & NEI$year <= 2008 & NEI$Pollutant == "PM25-PRI" & NEI$fips == "24510"),]$Emissions, by = list(Year = NEI$year , Pollutant = NEI$Pollutant), sum)
baltimoreData <- subset(NEI, NEI$fips == "24510")
total <- aggregate(NEI[which(baltimoreData$year >= 1999 & baltimoreData$year <= 2008 & baltimoreData$Pollutant == "PM25-PRI"),]$Emissions, by = list(Year = baltimoreData$year , Pollutant = baltimoreData$Pollutant), sum)
names(total)[3] <- "Emission"
total$Emission <- total$Emission/1000 #converting in Kilo tons
plot(total$Year, as.numeric(total$Emission),  xlab = "year", ylab = "Total Emissions (Tons)", main = "Total PM2.5 emission from Baltimore (fips = 24510)", type = "l", col = "red")
total
#open the png device
png(file = "plot1.png", width=480, height = 480)
setwd("~/")
setwd("~/GitHub/Coursera/Exploratory Data Analysis/CourseProject2")
png(file = "plot2.png", width=480, height = 480)
##plot it
plot(total$Year, as.numeric(total$Emission),  xlab = "year", ylab = "Total Emissions (Tons)", main = "Total PM2.5 emission from Baltimore (fips = 24510)", type = "l", col = "red")
str(NEI)
?ggplot2
install.packages("ggplot2")
library(ggplot2)
NEI <- readRDS("summarySCC_PM25.rds")
subNEI<-subset(NEI, NEI$fips == "24510")
qplot(year, Emissions, data=subNEI, facets=.~type, binwidth =2,
color = type, method = "lm", geom = c("point", "smooth"),
main = "Baltimore City: Emissions trend from 1999 to 2008",
ylab = "Emissions (tons)")
qplot(year, Emissions, data=subNEI, facets=.~type, binwidth =2,
color = type, method = "lm", geom = c("point", "smooth"),
main = "Baltimore City: Emissions trend from 1999 to 2008",
ylab = "Emissions (tons)")
print
print()
x = qplot(year, Emissions, data=subNEI, facets=.~type, binwidth =2,
color = type, method = "lm", geom = c("point", "smooth"),
main = "Baltimore City: Emissions trend from 1999 to 2008",
ylab = "Emissions (tons)")
x
print(x)
x = qplot(year, Emissions, data=subNEI, facets=.~type, binwidth =2, color = type, method = "lm", geom = c("point", "smooth"), main = "Baltimore City: Emissions trend from 1999 to 2008",  ylab = "Emissions (tons)")
x
x = qplot(year, Emissions, data=subNEI, facets=.~type, binwidth =2, color = type, method = "lm", geom = c("line", "smooth"), main = "Baltimore City: Emissions trend from 1999 to 2008",  ylab = "Emissions (tons)")
x
x = qplot(year, Emissions, data=subNEI, facets=.~type, binwidth =2, color = type, method = "lm", geom = c("point", "smooth"), main = "Baltimore City: Emissions trend from 1999 to 2008",  ylab = "Emissions (tons)")
x
qplot(year, Emission, data=total, facets=.~type, binwidth =2, color = type, method = "lm", geom = c("point", "smooth"), main = "Baltimore City: Emissions trend from 1999 to 2008",  ylab = "Emissions (tons)")
NEI <- readRDS("summarySCC_PM25.rds")
setwd("~/")
NEI <- readRDS("summarySCC_PM25.rds")
baltimoreData <- subset(NEI, NEI$fips == "24510")
total <- aggregate(NEI[which(baltimoreData$year >= 1999 & baltimoreData$year <= 2008 & baltimoreData$Pollutant == "PM25-PRI"),]$Emissions, by = list(Year = baltimoreData$year , Pollutant = baltimoreData$Pollutant), sum)
names(total)[3] <- "Emission"
total$Emission <- total$Emission/1000 #converting in Kilo tons
qplot(year, Emission, data=total, facets=.~type, binwidth =2, color = type, method = "lm", geom = c("point", "smooth"), main = "Baltimore City: Emissions trend from 1999 to 2008",  ylab = "Emissions (tons)")
qplot(year, Emissions, data=subNEI, facets=.~type, binwidth =2, color = type, method = "lm", geom = c("point", "smooth"), main = "Baltimore City: Emissions trend from 1999 to 2008",  ylab = "Emissions (tons)")
qplot(year, Emissions, data=baltimoreData, facets=.~type, binwidth =2, color = type, method = "lm", geom = c("point", "smooth"), main = "Baltimore City: Emissions trend from 1999 to 2008",  ylab = "Emissions (tons)")
qplot(year, Emissions, data=baltimoreData, facets=.~type, binwidth =10, color = type, method = "lm", geom = c("point", "smooth"), main = "Baltimore City: Emissions trend from 1999 to 2008",  ylab = "Emissions (tons)")
png(file="plot3.png", width=960, height = 480)
##plot
qplot(year, Emissions, data=baltimoreData, facets=.~type, binwidth =10, color = type, method = "lm", geom = c("point", "smooth"), main = "Baltimore City: Emissions trend from 1999 to 2008",  ylab = "Emissions (tons)")
##close png device
dev.off()
setwd("~/GitHub/Coursera/Exploratory Data Analysis/CourseProject2")
##open png device
png(file="plot3.png", width=960, height = 480)
##plot
qplot(year, Emissions, data=baltimoreData, facets=.~type, binwidth =10, color = type, method = "lm", geom = c("point", "smooth"), main = "Baltimore City: Emissions trend from 1999 to 2008",  ylab = "Emissions (tons)")
##close png device
dev.off()
SCC <- readRDS("Source_Classification_Code.rds")
setwd("~/")
SCC <- readRDS("Source_Classification_Code.rds")
setwd("~/GitHub/Coursera/Exploratory Data Analysis/CourseProject2")
str(SCC)
str(NEI)
source.with.encoding('~/.active-rstudio-document', encoding='UTF-8')
##Plot5.
##How have emissions from motor vehicle sources changed from 1999–2008 in Baltimore City?
##read files, this is where we need the SCC
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
##Stage 1: get the right data====================
##from SCC, find the coal combustion related sources. Get their SCC code used in NEI - we'll use those to subset NEI.
The best bet is column EI.Sector
##find the unique fuel type SCC column 4, and from there extract the ones with Coal
##there are 59 unique EI.Sector, from which 3 with coal: Fuel Comb - Electric Generation - Coal, Fuel Comb - Industrial Boilers, ICEs - Coal and Fuel Comb - Comm/Institutional - Coal
e
##move the dataframe into a matrix, for easier manipulation (at least for me )
matrixSCC<-as.matrix(SCC)
##subset it to only the rows where EI.Sector (column 4) has one of the coal
coal<-subset(matrixSCC, matrixSCC[, 4] == "Fuel Comb - Electric Generation - Coal" | matrixSCC[, 4] == "Fuel Comb - Comm/Institutional - Coal" | matrixSCC[, 4] == "Fuel Comb - Industrial Boilers, ICEs - Coal")
##get the SCC field from matrixSCC, as this is going to be the key to subset NEI
codesForNEI<-coal[, 1]
##now subset NEI by these codes
coalNEI<-subset(NEI, as.character(NEI$SCC) %in% codesForNEI)
##subsetting by years, to use in some calculations
y99<-subset(coalNEI, coalNEI$year == "1999")
y02<-subset(coalNEI, coalNEI$year == "2002")
y05<-subset(coalNEI, coalNEI$year == "2005")
y08<-subset(coalNEI, coalNEI$year == "2008")
##data for the first plot, that will show the average emissions by year
mmData<-data.frame(year = c("1999", "2002", "2005", "2008"),
means = c(mean(y99$Emissions), mean(y02$Emissions), mean(y05$Emissions), mean(y08$Emissions)),
medians = c(median(y99$Emissions), median(y02$Emissions), median(y05$Emissions), median(y08$Emissions)))
##new data frame that gets the SCC codes, their Source Type and the Emissions in one place <- for the 3rd plot
dSCC<-data.frame(code = coal[, 1], SourceType = coal[, 4])
dcoalNEI <-data.frame(code = coalNEI$SCC, Emissions = coalNEI$Emissions, year = coalNEI$year)
dataForPlot<-merge(dSCC, dcoalNEI, by = "code")
###plot it =============================
##i'll do 3 plots:
##one that show the mean per year to underline the trends
##one that shows the overall changes across years
##one that shows the details of changes by types of emissions sources
##use wq package to allow us multiplots with ggplot2
library(wq)
##open the png device
png(file = "plot4.png", width=960, height = 960)
##averages plot
plot1<- ggplot(mmData, aes(year, means)) + labs(title = "Average of emissions generated by coal-combustion sources, across US")+geom_point(aes(color = year, size = 10))+labs(y = "Average value of emissions")+geom_line(aes(group=1))
##overall emissions plot
plot2<-qplot(year, Emissions, data = coalNEI, color = year, main = "Changes of emissions generated by coal-combustion sources, across US", method="lm", geom = c("point", "smooth"))
##plot2<- ggplot(coalNEI, aes(year, Emissions)) + labs(title = "Changes of emissions generated by coal-combustion sources, across US") + geom_line()
##emissions split by groups of Source Types
plot3<- qplot(year, Emissions, data = dataForPlot, facets=.~SourceType,
color = year, main = "Changes of emissions generated by coal-combustion sources, across US, by type of emission source",
method="lm", geom = c("point", "smooth"))
wq::layOut(list(plot1,1,1), list(plot2, 2, 1), list(plot3, 3, 1))
##close png device
dev.off()
png(file = "plot4-ggplot.png", width=960, height = 480)
##variation with ggplot - not used
##graph<-ggplot(coalNEI, aes(year, Emissions))
##printerGraph<-graph+geom_point(aes(color = year))+geom_smooth(method="lm", size = 2)+labs(title = "Changes of emissions from coal combustion-related sources")
##print(printerGraph)
##dev.off()
method="lm", geom = c("point", "smooth"))
qplot(year, Emissions, data = dataForPlot, facets=.~SourceType, color = year, main = "Changes of emissions generated by coal-combustion sources, across US, by type of emission source", method="lm", geom = c("point", "smooth"))
##averages plot
plot1<- ggplot(mmData, aes(year, means)) + labs(title = "Average of emissions generated by coal-combustion sources, across US")+geom_point(aes(color = year, size = 10))+labs(y = "Average value of emissions")+geom_line(aes(group=1))
##overall emissions plot
plot2<-qplot(year, Emissions, data = coalNEI, color = year, main = "Changes of emissions generated by coal-combustion sources, across US", method="lm", geom = c("point", "smooth"))
##plot2<- ggplot(coalNEI, aes(year, Emissions)) + labs(title = "Changes of emissions generated by coal-combustion sources, across US") + geom_line()
##emissions split by groups of Source Types
plot3<- qplot(year, Emissions, data = dataForPlot, facets=.~SourceType, color = year, main = "Changes of emissions generated by coal-combustion sources, across US, by type of emission source", method="lm", geom = c("point", "smooth"))
wq::layOut(list(plot1,1,1), list(plot2, 2, 1), list(plot3, 3, 1))
??wq
?layout
layOut(list(plot1,1,1), list(plot2, 2, 1), list(plot3, 3, 1))
?layout
example(layout)
layOut(list(plot1,1,1), list(plot2, 2, 1), list(plot3, 3, 1))
layout(list(plot1,1,1), list(plot2, 2, 1), list(plot3, 3, 1))
??layOut
?par
par(mfrow=c(3,1))
##averages plot
plot1<- ggplot(mmData, aes(year, means)) + labs(title = "Average of emissions generated by coal-combustion sources, across US")+geom_point(aes(color = year, size = 10))+labs(y = "Average value of emissions")+geom_line(aes(group=1))
##overall emissions plot
plot2<-qplot(year, Emissions, data = coalNEI, color = year, main = "Changes of emissions generated by coal-combustion sources, across US", method="lm", geom = c("point", "smooth"))
##plot2<- ggplot(coalNEI, aes(year, Emissions)) + labs(title = "Changes of emissions generated by coal-combustion sources, across US") + geom_line()
##emissions split by groups of Source Types
plot3<- qplot(year, Emissions, data = dataForPlot, facets=.~SourceType, color = year, main = "Changes of emissions generated by coal-combustion sources, across US, by type of emission source", method="lm", geom = c("point", "smooth"))
##close png device
dev.off()
par(mfrow=c(3,1))
##averages plot
ggplot(mmData, aes(year, means)) + labs(title = "Average of emissions generated by coal-combustion sources, across US")+geom_point(aes(color = year, size = 10))+labs(y = "Average value of emissions")+geom_line(aes(group=1))
##overall emissions plot
qplot(year, Emissions, data = coalNEI, color = year, main = "Changes of emissions generated by coal-combustion sources, across US", method="lm", geom = c("point", "smooth"))
##plot2<- ggplot(coalNEI, aes(year, Emissions)) + labs(title = "Changes of emissions generated by coal-combustion sources, across US") + geom_line()
##emissions split by groups of Source Types
qplot(year, Emissions, data = dataForPlot, facets=.~SourceType, color = year, main = "Changes of emissions generated by coal-combustion sources, across US, by type of emission source", method="lm", geom = c("point", "smooth"))
qplot(year, Emissions, data = dataForPlot, facets=.~SourceType, color = year, main = "Changes of emissions generated by coal-combustion sources, across US, by type of emission source", method="lm", geom = c("point", "smooth"))
ggplot(mmData, aes(year, means)) + labs(title = "Average of emissions generated by coal-combustion sources, across US")+geom_point(aes(color = year, size = 10))+labs(y = "Average value of emissions")+geom_line(aes(group=1))
##Plot5.
##How have emissions from motor vehicle sources changed from 1999–2008 in Baltimore City?
##read files, this is where we need the SCC
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
##Stage 1: get the right data====================
##from SCC, find the coal combustion related sources. Get their SCC code used in NEI - we'll use those to subset NEI.
The best bet is column EI.Sector
##find the unique fuel type SCC column 4, and from there extract the ones with Coal
##there are 59 unique EI.Sector, from which 3 with coal: Fuel Comb - Electric Generation - Coal, Fuel Comb - Industrial Boilers, ICEs - Coal and Fuel Comb - Comm/Institutional - Coal
e
##move the dataframe into a matrix, for easier manipulation (at least for me )
matrixSCC<-as.matrix(SCC)
##subset it to only the rows where EI.Sector (column 4) has one of the coal
coal<-subset(matrixSCC, matrixSCC[, 4] == "Fuel Comb - Electric Generation - Coal" | matrixSCC[, 4] == "Fuel Comb - Comm/Institutional - Coal" | matrixSCC[, 4] == "Fuel Comb - Industrial Boilers, ICEs - Coal")
##get the SCC field from matrixSCC, as this is going to be the key to subset NEI
codesForNEI<-coal[, 1]
##now subset NEI by these codes
coalNEI<-subset(NEI, as.character(NEI$SCC) %in% codesForNEI)
##subsetting by years, to use in some calculations
y99<-subset(coalNEI, coalNEI$year == "1999")
y02<-subset(coalNEI, coalNEI$year == "2002")
y05<-subset(coalNEI, coalNEI$year == "2005")
y08<-subset(coalNEI, coalNEI$year == "2008")
##data for the first plot, that will show the average emissions by year
mmData<-data.frame(year = c("1999", "2002", "2005", "2008"),
means = c(mean(y99$Emissions), mean(y02$Emissions), mean(y05$Emissions), mean(y08$Emissions)),
medians = c(median(y99$Emissions), median(y02$Emissions), median(y05$Emissions), median(y08$Emissions)))
##new data frame that gets the SCC codes, their Source Type and the Emissions in one place <- for the 3rd plot
dSCC<-data.frame(code = coal[, 1], SourceType = coal[, 4])
dcoalNEI <-data.frame(code = coalNEI$SCC, Emissions = coalNEI$Emissions, year = coalNEI$year)
dataForPlot<-merge(dSCC, dcoalNEI, by = "code")
###plot it =============================
##i'll do 3 plots:
##one that show the mean per year to underline the trends
##one that shows the overall changes across years
##one that shows the details of changes by types of emissions sources
##use wq package to allow us multiplots with ggplot2
library(wq)
##open the png device
png(file = "plot4.png", width=960, height = 960)
par(mfrow=c(3,1))
##averages plot
ggplot(mmData, aes(year, means)) + labs(title = "Average of emissions generated by coal-combustion sources, across US")+geom_point(aes(color = year, size = 10))+labs(y = "Average value of emissions")+geom_line(aes(group=1))
##overall emissions plot
qplot(year, Emissions, data = coalNEI, color = year, main = "Changes of emissions generated by coal-combustion sources, across US", method="lm", geom = c("point", "smooth"))
##plot2<- ggplot(coalNEI, aes(year, Emissions)) + labs(title = "Changes of emissions generated by coal-combustion sources, across US") + geom_line()
##emissions split by groups of Source Types
qplot(year, Emissions, data = dataForPlot, facets=.~SourceType, color = year, main = "Changes of emissions generated by coal-combustion sources, across US, by type of emission source", method="lm", geom = c("point", "smooth"))
#layout(list(plot1,1,1), list(plot2, 2, 1), list(plot3, 3, 1))
##close png device
dev.off()
png(file = "plot4-ggplot.png", width=960, height = 480)
##variation with ggplot - not used
##graph<-ggplot(coalNEI, aes(year, Emissions))
##printerGraph<-graph+geom_point(aes(color = year))+geom_smooth(method="lm", size = 2)+labs(title = "Changes of emissions from coal combustion-related sources")
##print(printerGraph)
##dev.off()
ggplot(mmData, aes(year, means)) + labs(title = "Average of emissions generated by coal-combustion sources, across US")+geom_point(aes(color = year, size = 10))+labs(y = "Average value of emissions")+geom_line(aes(group=1))
ggplot(mmData, aes(year, means)) + labs(title = "Average of emissions generated by coal-combustion sources, across US")+geom_point(aes(color = year, size = 10))+labs(y = "Average value of emissions")+geom_line(aes(group=1))
dev.off()
ggplot(mmData, aes(year, means)) + labs(title = "Average of emissions generated by coal-combustion sources, across US")+geom_point(aes(color = year, size = 10))+labs(y = "Average value of emissions")+geom_line(aes(group=1))
qplot(year, Emissions, data = coalNEI, color = year, main = "Changes of emissions generated by coal-combustion sources, across US", method="lm", geom = c("point", "smooth"))
##Plot5.
##How have emissions from motor vehicle sources changed from 1999–2008 in Baltimore City?
##read files, this is where we need the SCC
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
##Stage 1: get the right data====================
##from SCC, find the coal combustion related sources. Get their SCC code used in NEI - we'll use those to subset NEI.
The best bet is column EI.Sector
##find the unique fuel type SCC column 4, and from there extract the ones with Coal
##there are 59 unique EI.Sector, from which 3 with coal: Fuel Comb - Electric Generation - Coal, Fuel Comb - Industrial Boilers, ICEs - Coal and Fuel Comb - Comm/Institutional - Coal
e
##move the dataframe into a matrix, for easier manipulation (at least for me )
matrixSCC<-as.matrix(SCC)
##subset it to only the rows where EI.Sector (column 4) has one of the coal
coal<-subset(matrixSCC, matrixSCC[, 4] == "Fuel Comb - Electric Generation - Coal" | matrixSCC[, 4] == "Fuel Comb - Comm/Institutional - Coal" | matrixSCC[, 4] == "Fuel Comb - Industrial Boilers, ICEs - Coal")
##get the SCC field from matrixSCC, as this is going to be the key to subset NEI
codesForNEI<-coal[, 1]
##now subset NEI by these codes
coalNEI<-subset(NEI, as.character(NEI$SCC) %in% codesForNEI)
##subsetting by years, to use in some calculations
y99<-subset(coalNEI, coalNEI$year == "1999")
y02<-subset(coalNEI, coalNEI$year == "2002")
y05<-subset(coalNEI, coalNEI$year == "2005")
y08<-subset(coalNEI, coalNEI$year == "2008")
##data for the first plot, that will show the average emissions by year
mmData<-data.frame(year = c("1999", "2002", "2005", "2008"),
means = c(mean(y99$Emissions), mean(y02$Emissions), mean(y05$Emissions), mean(y08$Emissions)),
medians = c(median(y99$Emissions), median(y02$Emissions), median(y05$Emissions), median(y08$Emissions)))
##new data frame that gets the SCC codes, their Source Type and the Emissions in one place <- for the 3rd plot
dSCC<-data.frame(code = coal[, 1], SourceType = coal[, 4])
dcoalNEI <-data.frame(code = coalNEI$SCC, Emissions = coalNEI$Emissions, year = coalNEI$year)
dataForPlot<-merge(dSCC, dcoalNEI, by = "code")
ggplot(mmData, aes(year, means)) + labs(title = "Average of emissions generated by coal-combustion sources, across US")+geom_point(aes(color = year, size = 10))+labs(y = "Average value of emissions")+geom_line(aes(group=1))
qplot(year, Emissions, data = coalNEI, color = year, main = "Changes of emissions generated by coal-combustion sources, across US", method="lm", geom = c("point", "smooth"))
